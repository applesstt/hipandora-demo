extends layout/layout

block content
  link(rel='stylesheet', href='public/vendor/selectize.js/dist/css/selectize.css')
  link(rel='stylesheet', href='public/css/cool-tag.css')
  .wrap
    .wrap-inner.mt20
      .cool-tag-wrap
        input#travel-tags(style='width:100%;', type='text')
  script(src='public/vendor/selectize.js/dist/js/standalone/selectize.js')
  script(src='public/js/cool-tag.js')
  script.
    $(function() {
      coolSelectize = $('#travel-tags').selectize({
          delimiter: ' ',
          persist: false,
          maxItems: 10,
          plugins: ['remove_button'],
          create: function(input) {
            return {
              value: input
            };
          },
          onItemAdd: function(value) {
            console.log(value);
          },
          onItemRemove: function(value) {
            console.log(value);
          },
          render: {
            item: function(item, escape) {
              return '<div class="cool-tag clearfix">' +
                '<div class="cool-tag-left"></div>' +
                '<div class="cool-tag-middle">' +
                  item.value +
                '</div>' +
                '<div class="cool-tag-right"></div>' +
              '</div>';
            }
          }
      });
      coolSelectize[0].selectize.addOption({value: 'hello'});
      coolSelectize[0].selectize.addItem('hello');
      //coolSelectize[0].selectize.updateOption('hello', {value: 'hello'});
      //coolSelectize[0].selectize.createItem('hello');
      //coolSelectize[0].selectize.addItem('hello');
      //coolSelectize[0].selectize.refreshOptions();
      $('.selectize-input input:first').attr('placeholder', '点击空白处输入标签');
    });